# üéØ TG Challenge Bot

> Telegram-–±–æ—Ç –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —Ç–≤–æ—Ä—á–µ—Å–∫–∏—Ö —á–µ–ª–ª–µ–Ω–¥–∂–µ–π –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞—Ö –Ω–µ–π—Ä–æ-–∞—Ä—Ç–∞

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Cloudflare Workers](https://img.shields.io/badge/Cloudflare-Workers-F38020?logo=cloudflare&logoColor=white)](https://workers.cloudflare.com/)
[![Telegram Bot](https://img.shields.io/badge/Telegram-Bot-26A5E4?logo=telegram&logoColor=white)](https://core.telegram.org/bots)
[![Google AI](https://img.shields.io/badge/Google-Gemini_AI-4285F4?logo=google&logoColor=white)](https://ai.google.dev/)
[![GitHub stars](https://img.shields.io/github/stars/timoncool/tg-challenge-bot?style=social)](https://github.com/timoncool/tg-challenge-bot/stargazers)
[![GitHub forks](https://img.shields.io/github/forks/timoncool/tg-challenge-bot?style=social)](https://github.com/timoncool/tg-challenge-bot/network/members)

![Preview](assets/preview.png)

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üèòÔ∏è **–ú—É–ª—å—Ç–∏-—Å–æ–æ–±—â–µ—Å—Ç–≤–∞**: –æ–¥–∏–Ω –±–æ—Ç –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç –¥–æ 10 –≥—Ä—É–ø–ø
- üìÖ **–¢—Ä–∏ —Ç–∏–ø–∞ —á–µ–ª–ª–µ–Ω–¥–∂–µ–π**: –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ, –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ, –µ–∂–µ–º–µ—Å—è—á–Ω—ã–µ
- üó≥Ô∏è **–ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –∑–∞ —Ç–µ–º—ã**: AI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã, —É—á–∞—Å—Ç–Ω–∏–∫–∏ –≤—ã–±–∏—Ä–∞—é—Ç
- üé® **–ü—Ä–æ—Å—Ç–æ–µ —É—á–∞—Å—Ç–∏–µ**: –ø—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–∞—Ä—Ç–∏–Ω–∫—É –≤ —Ç–µ–º—É —á–µ–ª–ª–µ–Ω–¥–∂–∞
- üîó **–°—Å—ã–ª–∫–∏ —Å –ø—Ä–µ–≤—å—é**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å—Å—ã–ª–∫–∏ –∫–∞–∫ —Ä–∞–±–æ—Ç—ã
- ‚≠ê **–ü–æ–¥—Å—á—ë—Ç —Ä–µ–∞–∫—Ü–∏–π**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Å—á—ë—Ç (üåö –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è)
- üèÜ **–õ–∏–¥–µ—Ä–±–æ—Ä–¥**: —Ä–µ–π—Ç–∏–Ω–≥ –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π (–æ—Ç–¥–µ–ª—å–Ω—ã–π –¥–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã)
- üö´ **–ê–Ω—Ç–∏-–ø–ª–∞–≥–∏–∞—Ç**: –ø–µ—Ä–µ—Å–ª–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è
- üß† **–£–º–Ω—ã–π AI**: –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç —Ç–µ–º—ã (–ø–æ–º–Ω–∏—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10)
- üí° **–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–º**: —É—á–∞—Å—Ç–Ω–∏–∫–∏ –º–æ–≥—É—Ç –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å —Å–≤–æ–∏ —Ç–µ–º—ã
- üé≠ **–†–µ–∂–∏–º—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞**: vanilla / medium / nsfw
- ‚òÅÔ∏è **Serverless**: —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Cloudflare Workers (–±–µ—Å–ø–ª–∞—Ç–Ω–æ!)

---

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Telegram-–≥—Ä—É–ø–ø–∞ —Å –≤–∫–ª—é—á—ë–Ω–Ω—ã–º–∏ **—Ç–µ–º–∞–º–∏ (Topics)**
- –ê–∫–∫–∞—É–Ω—Ç [Cloudflare](https://cloudflare.com) (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π)
- API-–∫–ª—é—á [Google AI Studio](https://aistudio.google.com/apikey) (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π)

---

## üöÄ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram

1. –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/BotFather)
2. `/newbot` ‚Üí –≤–≤–µ–¥–∏—Ç–µ –∏–º—è ‚Üí –≤–≤–µ–¥–∏—Ç–µ username
3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `1234567890:ABCdefGHI...`)
4. `/mybots` ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞ ‚Üí **Bot Settings** ‚Üí **Group Privacy** ‚Üí **Turn off**

### –®–∞–≥ 2: –ü–æ–ª—É—á–∏—Ç–µ API-–∫–ª—é—á Google AI

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Google AI Studio](https://aistudio.google.com/apikey)
2. **Create API Key** ‚Üí —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ

### –®–∞–≥ 3: –°–æ–∑–¥–∞–π—Ç–µ Worker –≤ Cloudflare

1. [Cloudflare Dashboard](https://dash.cloudflare.com) ‚Üí **Workers & Pages** ‚Üí **Create Worker**
2. –î–∞–π—Ç–µ –∏–º—è (–Ω–∞–ø—Ä–∏–º–µ—Ä: `challenge-bot`) ‚Üí **Deploy**
3. **Edit Code** ‚Üí –≤—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ –∏–∑ `worker.js` ‚Üí **Deploy**

### –®–∞–≥ 4: –°–æ–∑–¥–∞–π—Ç–µ KV —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

1. **Workers & Pages** ‚Üí **KV** ‚Üí **Create namespace**
2. –ò–º—è: `CHALLENGE_KV` ‚Üí **Add**
3. –ü—Ä–∏–≤—è–∂–∏—Ç–µ –∫ Worker: **Settings** ‚Üí **Bindings** ‚Üí **Add** ‚Üí **KV Namespace**
   - Variable name: `CHALLENGE_KV`

### –®–∞–≥ 5: –î–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã

**Settings** ‚Üí **Variables and Secrets** ‚Üí **Add** (—Ç–∏–ø: **Encrypt**):

| –ò–º—è | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
|-----|----------|-------------|
| `BOT_TOKEN` | –¢–æ–∫–µ–Ω –æ—Ç BotFather | ‚úÖ –î–∞ |
| `GEMINI_API_KEY` | API-–∫–ª—é—á Google AI | ‚úÖ –î–∞ |
| `ADMIN_SECRET` | –õ—é–±–æ–π –ø–∞—Ä–æ–ª—å –¥–ª—è HTTP API | ‚úÖ –î–∞ |
| `WEBHOOK_SECRET` | –°–µ–∫—Ä–µ—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ webhook (–ª—é–±–∞—è —Å—Ç—Ä–æ–∫–∞) | ‚¨ú –ù–µ—Ç |

> üí° `WEBHOOK_SECRET` –ø–æ–≤—ã—à–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –ø—Ä–æ–≤–µ—Ä—è—è —á—Ç–æ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∏—Ö–æ–¥—è—Ç –∏–º–µ–Ω–Ω–æ –æ—Ç Telegram.

### –®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ

**–í–∞—Ä–∏–∞–Ω—Ç A: Cron Triggers (Cloudflare)**

**Settings** ‚Üí **Triggers** ‚Üí **Cron Triggers**:

```
0 * * * *     ‚Äî –∫–∞–∂–¥—ã–π —á–∞—Å (–ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –≥—Ä—É–ø–ø)
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è Telegram (–ø—Ä–æ—â–µ!)**

Telegram –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –ø–æ–≤—Ç–æ—Ä–æ–º. –í–º–µ—Å—Ç–æ Cron –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∞–º Telegram –∫–∞–∫ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫:

1. –ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –≤ –≥—Ä—É–ø–ø–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä `/poll_daily`)
2. –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å—Ä–∞–∑—É ‚Äî –Ω–∞–∂–º–∏—Ç–µ –∏ —É–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –∫–Ω–æ–ø–∫—É –æ—Ç–ø—Ä–∞–≤–∫–∏
3. –í—ã–±–µ—Ä–∏—Ç–µ **"–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ"**
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Ä–µ–º—è –∏ **"–ü–æ–≤—Ç–æ—Ä—è—Ç—å: –ï–∂–µ–¥–Ω–µ–≤–Ω–æ"**

Telegram –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∫–æ–º–∞–Ω–¥—É –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é.

### –®–∞–≥ 7: –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ webhook

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

```
https://–≤–∞—à-worker.workers.dev/setup
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ curl:

```bash
curl https://–≤–∞—à-worker.workers.dev/setup
```

–ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `ADMIN_SECRET`:

```bash
curl -H "Authorization: Bearer –í–ê–®_ADMIN_SECRET" \
     https://–≤–∞—à-worker.workers.dev/setup
```

–û—Ç–≤–µ—Ç –ø—Ä–∏ —É—Å–ø–µ—Ö–µ:
```json
{"success": true, "webhook": "https://–≤–∞—à-worker.workers.dev/webhook"}
```

### –®–∞–≥ 8: –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—ã

1. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É –∫–∞–∫ **–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞**
2. –î–∞–π—Ç–µ –ø—Ä–∞–≤–∞: —É–¥–∞–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è, –∑–∞–∫—Ä–µ–ø–ª—è—Ç—å, —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–µ–º–∞–º–∏
3. –ù–∞–ø–∏—à–∏—Ç–µ –≤ –≥—Ä—É–ø–ø–µ: `/register_community`
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç–æ–ø–∏–∫–∏ ‚Äî –Ω–∞–ø–∏—à–∏—Ç–µ –≤ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ:
   - `/set_daily` ‚Äî –≤ —Ç–µ–º–µ –¥–Ω–µ–≤–Ω—ã—Ö —á–µ–ª–ª–µ–Ω–¥–∂–µ–π
   - `/set_weekly` ‚Äî –≤ —Ç–µ–º–µ –Ω–µ–¥–µ–ª—å–Ω—ã—Ö
   - `/set_monthly` ‚Äî –≤ —Ç–µ–º–µ –º–µ—Å—è—á–Ω—ã—Ö
   - `/set_winners` ‚Äî –≤ —Ç–µ–º–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π

### üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —à–∞–≥ 8 –¥–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã (–¥–æ 10).

---

## üì± –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### –î–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/start`, `/help` | –°–ø—Ä–∞–≤–∫–∞ –ø–æ —É—á–∞—Å—Ç–∏—é |
| `/stats` | –í–∞—à–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–±–µ–¥ |
| `/leaderboard` | –¢–æ–ø-10 –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π |
| `/current` | –¢–µ–∫—É—â–∏–µ –∞–∫—Ç–∏–≤–Ω—ã–µ —á–µ–ª–ª–µ–Ω–¥–∂–∏ |
| `/suggest –ù–∞–∑–≤–∞–Ω–∏–µ \| –û–ø–∏—Å–∞–Ω–∏–µ` | –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ç–µ–º—É –¥–ª—è —á–µ–ª–ª–µ–Ω–¥–∂–∞ |
| `/suggestions` | –°–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ç–µ–º |

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞–º–∏

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/register_community` | –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≥—Ä—É–ø–ø—É |
| `/list_communities` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≥—Ä—É–ø–ø –±–æ—Ç–∞ |
| `/unregister_community` | –£–¥–∞–ª–∏—Ç—å –≥—Ä—É–ø–ø—É –∏–∑ –±–æ—Ç–∞ |

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ–ø–∏–∫–æ–≤

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/topic_id` | –ü–æ–∫–∞–∑–∞—Ç—å ID —Ç–µ–∫—É—â–µ–π —Ç–µ–º—ã |
| `/set_daily` | –ù–∞–∑–Ω–∞—á–∏—Ç—å —Ç–µ–º—É –¥–ª—è –¥–Ω–µ–≤–Ω—ã—Ö —á–µ–ª–ª–µ–Ω–¥–∂–µ–π |
| `/set_weekly` | –ù–∞–∑–Ω–∞—á–∏—Ç—å —Ç–µ–º—É –¥–ª—è –Ω–µ–¥–µ–ª—å–Ω—ã—Ö |
| `/set_monthly` | –ù–∞–∑–Ω–∞—á–∏—Ç—å —Ç–µ–º—É –¥–ª—è –º–µ—Å—è—á–Ω—ã—Ö |
| `/set_winners` | –ù–∞–∑–Ω–∞—á–∏—Ç—å —Ç–µ–º—É –¥–ª—è –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π |

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/set_content_mode` | –†–µ–∂–∏–º –∫–æ–Ω—Ç–µ–Ω—Ç–∞: vanilla/medium/nsfw |
| `/set_accept_links on/off` | –ü—Ä–∏–Ω–∏–º–∞—Ç—å —Å—Å—ã–ª–∫–∏ —Å –ø—Ä–µ–≤—å—é –∫–∞–∫ —Ä–∞–±–æ—Ç—ã |
| `/set_suggestion_reactions N` | –ú–∏–Ω–∏–º—É–º —Ä–µ–∞–∫—Ü–∏–π –¥–ª—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3) |
| `/schedule_daily –ß–ê–°` | –í—Ä–µ–º—è –¥–Ω–µ–≤–Ω—ã—Ö —á–µ–ª–ª–µ–Ω–¥–∂–µ–π (UTC) |
| `/schedule_weekly –î–ï–ù–¨ –ß–ê–°` | –í—Ä–µ–º—è –Ω–µ–¥–µ–ª—å–Ω—ã—Ö (0=–≤—Å, 6=—Å–±) |
| `/schedule_monthly –î–ï–ù–¨ –ß–ê–°` | –í—Ä–µ–º—è –º–µ—Å—è—á–Ω—ã—Ö |

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ–ª–ª–µ–Ω–¥–∂–∞–º–∏

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/admin` | –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Å–æ –≤—Å–µ–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏ |
| `/poll_daily` | –°–æ–∑–¥–∞—Ç—å –æ–ø—Ä–æ—Å –¥–Ω–µ–≤–Ω–æ–≥–æ —á–µ–ª–ª–µ–Ω–¥–∂–∞ |
| `/poll_weekly` | –°–æ–∑–¥–∞—Ç—å –æ–ø—Ä–æ—Å –Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ |
| `/poll_monthly` | –°–æ–∑–¥–∞—Ç—å –æ–ø—Ä–æ—Å –º–µ—Å—è—á–Ω–æ–≥–æ |
| `/run_daily` | –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–Ω–µ–≤–Ω–æ–π —á–µ–ª–ª–µ–Ω–¥–∂ |
| `/run_weekly` | –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–µ–¥–µ–ª—å–Ω—ã–π |
| `/run_monthly` | –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–µ—Å—è—á–Ω—ã–π |
| `/finish_daily` | –ó–∞–≤–µ—Ä—à–∏—Ç—å –¥–Ω–µ–≤–Ω–æ–π |
| `/finish_weekly` | –ó–∞–≤–µ—Ä—à–∏—Ç—å –Ω–µ–¥–µ–ª—å–Ω—ã–π |
| `/finish_monthly` | –ó–∞–≤–µ—Ä—à–∏—Ç—å –º–µ—Å—è—á–Ω—ã–π |
| `/status` | –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —á–µ–ª–ª–µ–Ω–¥–∂–µ–π |
| `/cs_daily` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–Ω–µ–≤–Ω–æ–≥–æ —á–µ–ª–ª–µ–Ω–¥–∂–∞ |
| `/cs_weekly` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ |
| `/cs_monthly` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–µ—Å—è—á–Ω–æ–≥–æ |
| `/test_ai` | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É Gemini API |

---

## üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –¶–∏–∫–ª —á–µ–ª–ª–µ–Ω–¥–∂–∞:

1. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è** ‚Äî AI —Å–æ–∑–¥–∞—ë—Ç —Ç–µ–º—ã, –±–æ—Ç –ø—É–±–ª–∏–∫—É–µ—Ç –æ–ø—Ä–æ—Å
2. **–ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ** ‚Äî —É—á–∞—Å—Ç–Ω–∏–∫–∏ –≤—ã–±–∏—Ä–∞—é—Ç —Ç–µ–º—É
3. **–°—Ç–∞—Ä—Ç** ‚Äî –æ–ø—Ä–æ—Å –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –æ–±—ä—è–≤–ª—è–µ—Ç—Å—è —Ç–µ–º–∞-–ø–æ–±–µ–¥–∏—Ç–µ–ª—å
4. **–£—á–∞—Å—Ç–∏–µ** ‚Äî –ª—é–±–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ç–æ–ø–∏–∫–µ = —É—á–∞—Å—Ç–∏–µ
5. **–†–µ–∞–∫—Ü–∏–∏** ‚Äî —É—á–∞—Å—Ç–Ω–∏–∫–∏ –æ—Ü–µ–Ω–∏–≤–∞—é—Ç —Ä–∞–±–æ—Ç—ã (üåö –Ω–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è)
6. **–ò—Ç–æ–≥–∏** ‚Äî –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è, –ø–µ—Ä–µ—Å—ã–ª–∫–∞ –≤ "–ü–æ–±–µ–¥–∏—Ç–µ–ª–∏"

### –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–º:

–£—á–∞—Å—Ç–Ω–∏–∫–∏ –º–æ–≥—É—Ç –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å —Å–≤–æ–∏ —Ç–µ–º—ã –¥–ª—è —á–µ–ª–ª–µ–Ω–¥–∂–µ–π:

1. **–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ** ‚Äî `/suggest –ù–∞–∑–≤–∞–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ`
2. **–ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ** ‚Äî –¥—Ä—É–≥–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ —Å—Ç–∞–≤—è—Ç —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ –ø–æ–Ω—Ä–∞–≤–∏–≤—à–∏–µ—Å—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
3. **–û–¥–æ–±—Ä–µ–Ω–∏–µ** ‚Äî —Ç–µ–º—ã —Å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º —á–∏—Å–ª–æ–º —Ä–µ–∞–∫—Ü–∏–π –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Å–ª–µ–¥—É—é—â–∏–π –æ–ø—Ä–æ—Å
4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** ‚Äî –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–µ —Ç–µ–º—ã –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è —Å AI-—Ç–µ–º–∞–º–∏ –≤ –æ–ø—Ä–æ—Å–µ

–ú–∏–Ω–∏–º—É–º —Ä–µ–∞–∫—Ü–∏–π –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã –æ—Ç–¥–µ–ª—å–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π `/set_suggestion_reactions`.

### –ú—É–ª—å—Ç–∏-—Å–æ–æ–±—â–µ—Å—Ç–≤–∞:

- –ö–∞–∂–¥–∞—è –≥—Ä—É–ø–ø–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞
- –°–≤–æ–∏ —á–µ–ª–ª–µ–Ω–¥–∂–∏, –ª–∏–¥–µ—Ä–±–æ—Ä–¥—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –û–¥–∏–Ω –±–æ—Ç, –æ–¥–∏–Ω Worker, –æ–¥–Ω–∞ –±–∞–∑–∞ KV
- –õ–∏–º–∏—Ç: 10 –≥—Ä—É–ø–ø

---

## üåê HTTP API

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Ç—Ä–µ–±—É—é—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫: `Authorization: Bearer {ADMIN_SECRET}`

### –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| `GET` | `/` –∏–ª–∏ `/health` | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ |
| `GET` | `/setup` | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ webhook |
| `GET` | `/info` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤–∞—Ö |
| `GET` | `/admin/status` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤ |
| `GET` | `/admin/status?chat_id=ID` | –°—Ç–∞—Ç—É—Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ |
| `POST` | `/admin/poll/{type}?chat_id=ID` | –°–æ–∑–¥–∞—Ç—å –æ–ø—Ä–æ—Å (type: daily/weekly/monthly) |
| `POST` | `/admin/start/{type}?chat_id=ID` | –ó–∞–ø—É—Å—Ç–∏—Ç—å —á–µ–ª–ª–µ–Ω–¥–∂ |
| `POST` | `/admin/finish/{type}?chat_id=ID` | –ó–∞–≤–µ—Ä—à–∏—Ç—å —á–µ–ª–ª–µ–Ω–¥–∂ |

### –ü—Ä–∏–º–µ—Ä—ã curl

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:**

```bash
curl https://–≤–∞—à-worker.workers.dev/health
```

**–ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤:**

```bash
curl -H "Authorization: Bearer –í–ê–®_–°–ï–ö–†–ï–¢" \
     https://–≤–∞—à-worker.workers.dev/admin/status
```

**–ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞:**

```bash
curl -H "Authorization: Bearer –í–ê–®_–°–ï–ö–†–ï–¢" \
     "https://–≤–∞—à-worker.workers.dev/admin/status?chat_id=-1001234567890"
```

**–°–æ–∑–¥–∞—Ç—å –æ–ø—Ä–æ—Å –¥–Ω–µ–≤–Ω–æ–≥–æ —á–µ–ª–ª–µ–Ω–¥–∂–∞:**

```bash
curl -X POST \
     -H "Authorization: Bearer –í–ê–®_–°–ï–ö–†–ï–¢" \
     "https://–≤–∞—à-worker.workers.dev/admin/poll/daily?chat_id=-1001234567890"
```

**–ó–∞–ø—É—Å—Ç–∏—Ç—å —á–µ–ª–ª–µ–Ω–¥–∂ (–∑–∞–∫—Ä—ã—Ç—å –æ–ø—Ä–æ—Å):**

```bash
curl -X POST \
     -H "Authorization: Bearer –í–ê–®_–°–ï–ö–†–ï–¢" \
     "https://–≤–∞—à-worker.workers.dev/admin/start/daily?chat_id=-1001234567890"
```

**–ó–∞–≤–µ—Ä—à–∏—Ç—å —á–µ–ª–ª–µ–Ω–¥–∂ (–ø–æ–¥–≤–µ—Å—Ç–∏ –∏—Ç–æ–≥–∏):**

```bash
curl -X POST \
     -H "Authorization: Bearer –í–ê–®_–°–ï–ö–†–ï–¢" \
     "https://–≤–∞—à-worker.workers.dev/admin/finish/daily?chat_id=-1001234567890"
```

**–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞—Ö:**

```bash
curl -H "Authorization: Bearer –í–ê–®_–°–ï–ö–†–ï–¢" \
     https://–≤–∞—à-worker.workers.dev/info
```

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ `/admin/status?chat_id=...`

```json
{
  "chatId": -1001234567890,
  "challenges": {
    "daily": {
      "theme": "–ö–∏–±–µ—Ä–ø–∞–Ω–∫-–≥–æ—Ä–æ–¥",
      "startedAt": "2025-01-15T10:00:00Z",
      "participants": 12
    },
    "weekly": null,
    "monthly": null
  },
  "polls": {
    "daily": false,
    "weekly": true,
    "monthly": false
  },
  "activeTopics": [123, 456]
}
```

---

## ‚ùì FAQ

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç ‚Äî –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –≥—Ä—É–ø–ø—ã
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ webhook: –æ—Ç–∫—Ä–æ–π—Ç–µ `/setup`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Cloudflare Dashboard ‚Üí Workers ‚Üí Logs

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –≥—Ä—É–ø–ø—É?
–î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É ‚Üí `/register_community` ‚Üí –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç–æ–ø–∏–∫–∏

### –ö–∞–∫ —É–¥–∞–ª–∏—Ç—å –≥—Ä—É–ø–ø—É?
–í –≥—Ä—É–ø–ø–µ: `/unregister_community`

### –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å ID —Ç–æ–ø–∏–∫–∞?
–ù–∞–ø–∏—à–∏—Ç–µ `/topic_id` –≤ –Ω—É–∂–Ω–æ–π —Ç–µ–º–µ.

### –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å ID –≥—Ä—É–ø–ø—ã (chat_id)?
–ù–∞–ø–∏—à–∏—Ç–µ `/register_community` ‚Äî –±–æ—Ç –ø–æ–∫–∞–∂–µ—Ç ID –≥—Ä—É–ø–ø—ã.

### –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è —á–µ–ª–ª–µ–Ω–¥–∂–µ–π?
–ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—ã –≤ –≥—Ä—É–ø–ø–µ:
- `/schedule_daily 17` ‚Äî –¥–Ω–µ–≤–Ω—ã–µ –≤ 17:00 UTC
- `/schedule_weekly 0 17` ‚Äî –Ω–µ–¥–µ–ª—å–Ω—ã–µ: –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ 17:00
- `/schedule_monthly 1 17` ‚Äî –º–µ—Å—è—á–Ω—ã–µ: 1-–≥–æ —á–∏—Å–ª–∞ –≤ 17:00

### –°–∫–æ–ª—å–∫–æ —ç—Ç–æ —Å—Ç–æ–∏—Ç?
**$0** –ø—Ä–∏ –æ–±—ã—á–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏:
- Cloudflare Workers: 100K –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ
- KV: 100K –æ–ø–µ—Ä–∞—Ü–∏–π/–¥–µ–Ω—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ
- Google AI: –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier –¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω

---

## üìÅ –§–∞–π–ª—ã

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `worker.js` | –ß–∏—Å—Ç—ã–π –≤–∞–Ω–∏–ª—å–Ω—ã–π –∫–æ–¥ ‚Äî —Ä–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–¥ —Å–≤–æ—ë —Å–æ–æ–±—â–µ—Å—Ç–≤–æ |
| `worker-mr-challenger.js` | –ü—Ä–∏–º–µ—Ä –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–º –∏ —Å—Ç–∏–ª–µ–º |

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ!

---

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- [Cloudflare Workers](https://workers.cloudflare.com/) ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π serverless
- [Google AI](https://ai.google.dev/) ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–º —á–µ—Ä–µ–∑ Gemini

---

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è [Nerual Dreaming](https://t.me/nerual_dreming) ‚Äî –æ—Å–Ω–æ–≤–∞—Ç–µ–ª–µ–º [ArtGeneration.me](https://artgeneration.me/), [—Ç–µ—Ö–Ω–æ–±–ª–æ–≥–µ—Ä–æ–º](https://www.youtube.com/@nerual_dreming) –∏ –Ω–µ–π—Ä–æ-–µ–≤–∞–Ω–≥–µ–ª–∏—Å—Ç–æ–º.

---

## ‚≠ê Star History

<a href="https://star-history.com/#timoncool/tg-challenge-bot&Date">
 <picture>
   <source media="(prefers-color-scheme: dark)" srcset="https://api.star-history.com/svg?repos=timoncool/tg-challenge-bot&type=Date&theme=dark&v=1" />
   <source media="(prefers-color-scheme: light)" srcset="https://api.star-history.com/svg?repos=timoncool/tg-challenge-bot&type=Date&v=1" />
   <img alt="Star History Chart" src="https://api.star-history.com/svg?repos=timoncool/tg-challenge-bot&type=Date&v=1" />
 </picture>
</a>

